<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.semi.mapper.CityMapper">
	<select id="getTotalCountCity" resultType="int">
		select count(*) from city_board
	</select>
	<select id="getAllCity" parameterType="String" resultType="CityBoardDto">
		select * from city_board order by cbnum asc;
	</select>
	<select id="getDetailbycbnum" parameterType="int" resultType="CityBoardDto">
		select * from city_board where cbnum=#{cbnum}
	</select>
	<select id="getDetailbyunum" parameterType="int" resultType="UserDto">
		select * from user where unum=#{unum}
	</select>
	<insert id="insertCity" parameterType="CityBoardDto">
		insert into city_board (subject, unum, cbcontent, cbphoto, cbwriteday, city1, city2)
		value (#{subject}, #{unum}, #{cbcontent}, #{cbphoto}, now(), #{city1}, #{city2})
	</insert>
	<select id="preContent" parameterType="int" resultType="String">
		select subject from city_board where cbnum=#{cbnum}-1
	</select>
	<select id="nxtContent" parameterType="int" resultType="String">
		select subject from city_board where cbnum=#{cbnum}+1
	</select>
</mapper>